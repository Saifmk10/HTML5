(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{FKCC:function(module,e,n){"use strict";n.r(e);var t=n("pVnL"),r=n.n(t),a=n("3tO9"),o=n.n(a),i=n("VbXa"),s=n.n(i),c=n("VkAN"),d=n.n(c),l=n("OhL7"),u=n("q1tI"),p=n("17x9"),m=n.n(p),g=n("MnCE"),f=n("HOoY"),h=n("kvW3"),v=n("Wjkg"),b=n("l1ss"),k=n("sQ/U"),C=n("1Lpr"),O=n("ti7j"),y=n("PStO"),E=function(e){function NotificationPreferences(){return e.apply(this,arguments)||this}return s()(NotificationPreferences,e),NotificationPreferences}(n("HlCP").a);E.RESOURCE_NAME="notificationPreferences.v2";var w,B,D,S=E,P=n("sOkY"),R=Object(g.i)((function(e){return u.createElement("svg",r()({viewBox:"0 0 167 66",style:{width:"100%"},xmlns:"http://www.w3.org/2000/svg"},e),w||(w=u.createElement("title",null,"Shapes")),B||(B=u.createElement("defs",null)),D||(D=u.createElement("g",{id:"Artboard",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",transform:"translate(-35.000000, -33.000000)",opacity:"0.1"},u.createElement("g",{id:"Banner",transform:"translate(35.000000, 33.000000)",stroke:"#000000",strokeWidth:"6"},u.createElement("g",{id:"sessionnotificationbg"},u.createElement("g",{id:"shapes"},u.createElement("g",{transform:"translate(-29.000000, -21.000000)"},u.createElement("g",{id:"Clock",transform:"translate(155.049449, 36.684704)"},u.createElement("path",{d:"M37.9396098,17.4698049 C37.9396098,28.774791 28.7750662,37.9396098 17.4698049,37.9396098 C6.16454361,37.9396098 -3,28.774791 -3,17.4698049 C-3,6.16481885 6.16454361,-3 17.4698049,-3 C28.7750662,-3 37.9396098,6.16481885 37.9396098,17.4698049 Z",id:"Stroke-1"}),u.createElement("polyline",{id:"Stroke-3",points:"18.1685971 4.19275318 18.1685971 17.4698049 9.08429855 17.4698049"})),u.createElement("rect",{id:"Rectangle-path",transform:"translate(31.500000, 30.204937) rotate(201.000000) translate(-31.500000, -30.204937) ",x:"7",y:"8",width:"49",height:"44.4098749"}),u.createElement("rect",{id:"Rectangle-path",transform:"translate(82.000000, 79.000000) rotate(157.000000) translate(-82.000000, -79.000000) ",x:"71",y:"68",width:"22",height:"22"}),u.createElement("circle",{id:"Oval",cx:"103.5",cy:"28.5",r:"7.5"}),u.createElement("path",{d:"M118.5,59.5 L129.5,44.5",id:"Line",strokeLinecap:"square"}))))))))}));R.displayName="GDPRArchSVG";var j,x,N,G,M,U,A=R,T="dismissedGDPRBanner",V=["coursera","lightBlue","peach","kiwi","sea","blueberry","grape"],I=["grape"],W=n("TP7S"),L=n.n(W),gdprUtils_getGradient=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e&&n?I:V;return t[Math.floor(Math.random()*t.length)]},Y={peach:{start:"#fc6e51",end:"#f6bb42",deg:90},pear:{start:"#ffce54",end:"#8cc152",deg:90},kiwi:{start:"#a0d468",end:"#37bc9b",deg:90},sea:{start:"#48cfad",end:"#3bafda",deg:90},coursera:{start:"#4fc1e9",end:"#4a89dc",deg:90},blueberry:{start:"#5d9cec",end:"#967adc",deg:90},grape:{start:"#ac92ec",end:"#d770ad",deg:90},lightBlue:{start:"#E3EEFF",end:"#89B3EF",deg:90}},F=n("h5Mv"),H=n.n(F);n.d(e,"BaseComponent",(function(){return q}));var J={GDPRBanner:Object(l.c)(j||(j=d()(["\n    padding: var(--cds-spacing-150);\n    text-align: center;\n    background-image: linear-gradient(90deg, #48cfad, '#3bafda');\n    position: relative;\n  "]))),textWrapper:Object(l.c)(x||(x=d()(["\n    display: inline-block;\n    vertical-align: middle;\n    font-weight: 600;\n    margin: 0;\n  "]))),selectWrapper:Object(l.c)(N||(N=d()(["\n    width: 100;\n    display: inline-block;\n    vertical-align: middle;\n    margin: var(--cds-spacing-50) var(--cds-spacing-200);\n  "]))),selectComponent:Object(l.c)(G||(G=d()(["\n    background-color: #fff;\n    border: 1px solid #ccc;\n    color: #666;\n    cursor: default;\n    border-radius: 0;\n    border-spacing: 0;\n    border-collapse: separate;\n    height: 36px;\n    line-height: 36px;\n    outline: none;\n    position: relative;\n    padding: 0 7px;\n  "]))),disabledOption:Object(l.c)(M||(M=d()(["\n    display: none;\n  "])))},GDPRBanner_generateBannerText=function(e,n){var t=[H()("Please stay with us! Opt-in to let us know you’d like to keep receiving course recommendations via email from Coursera."),H()("Don’t lose touch! Opt-in today to continue receiving emails with course recommendations and news from Coursera."),H()("Stay on track — the deadline is coming soon! Opt-in to continue receiving updates from Coursera."),H()("Don’t miss out. You must opt-in to continue receiving updates from Coursera.")],r=H()("Don’t lose touch! Opt-in for updates on how Coursera for Business can help you transform your workforce."),a=[n?{BUSINESS:r,CAMPUS:H()("Don’t lose touch! Opt-in for updates on Coursera for Campus."),GOVERNMENT:H()("Don’t lose touch! Opt-in for updates on how Coursera for Government can help you transform your workforce.")}[n]:r],o=e?a:t,i=e?["Don’t lose touch! Opt-in for updates on how Coursera for Business can help you transform your workforce."]:["Please stay with us! Opt-in to let us know you’d like to keep receiving course recommendations via email from Coursera.","Don’t lose touch! Opt-in today to continue receiving emails with course recommendations and news from Coursera.","Stay on track — the deadline is coming soon! Opt-in to continue receiving updates from Coursera.","Don’t miss out. You must opt-in to continue receiving updates from Coursera."],s=Math.floor(Math.random()*o.length);return{translated:o[s],untranslated:i[s]}},q=function(e){function GDPRBanner(n){var t;(t=e.call(this,n)||this).updateParentClass=function(){var e=t.props,n=e.addParentHeightClass,r=e.shouldRender,a=t.state.selectedValue;r&&"no"!==a&&(null==n||n("with-gdpr-banner"))},t.hideBanner=function(){var e=t.props.removeParentHeightClass;t.setState((function(){return{isDismissed:!0}})),null==e||e("with-gdpr-banner")},t.selectOnChange=function(e){var n,r=t.state,a=r.untranslatedBannerText,o=r.color,i=t.context._eventData,s=null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.value;t.setState((function(){return{selectedValue:s}})),f.a.trackComponent(i,{selectedValue:s,color:o,bannerText:a},"gdpr_marketing_dropdown","select"),"no"===s?(t.hideBanner(),v.a.set(T,!0)):(setTimeout(t.hideBanner,8e3),t.updateNotifications())},t.updateNotifications=function(){var e=t.props,n=e.naptime,r=e.notificationPreferences,a=e.isEnterprise,o=e.isAdmin;if(r){var i,s,c,d=JSON.parse(JSON.stringify(r));if(!r||a||o){if(r&&a&&o){var l;d.global="ENABLED",d.enterpriseMarketing=null!==(l=d.enterpriseMarketing)&&void 0!==l?l:{},d.enterpriseMarketing.email="SUBSCRIBED"}}else d.global="ENABLED",d.volunteer=null!==(i=d.volunteer)&&void 0!==i?i:{},d.volunteer.email="SUBSCRIBED",d.promotions=null!==(s=d.promotions)&&void 0!==s?s:{},d.promotions.email="SUBSCRIBED",d.recommendations=null!==(c=d.recommendations)&&void 0!==c?c:{},d.recommendations.email="SUBSCRIBED";n.executeMutation(S.update(k.a.get().id,d))}};var r=n.isAdmin,a=n.isEnterprise,o=n.organizationType,i=GDPRBanner_generateBannerText(a,o),s=i.translated,c=i.untranslated,d=gdprUtils_getGradient(a&&r);return t.state={isDismissed:!1,selectedValue:void 0,color:d,bannerText:s,untranslatedBannerText:c},t}s()(GDPRBanner,e);var n=GDPRBanner.prototype;return n.componentDidMount=function(){this.updateParentClass()},n.render=function(){var e=this.props.shouldRender,n=this.state,t=n.isDismissed,r=n.selectedValue,a=n.bannerText,o=n.untranslatedBannerText,i=n.color;return!e||t?U||(U=Object(l.d)("span",null)):Object(l.d)(P.a,{css:J.GDPRBanner,trackingName:"gdpr_marketing_banner",withVisibilityTracking:!0,data:{bannerText:o,color:i},style:{backgroundImage:"linear-gradient(90deg, ".concat(Y[i].start,", ").concat(Y[i].end,")")}},Object(l.d)(A,{className:"GDPRShapesSVG",style:{maxWidth:300,maxHeight:"100%",position:"absolute",left:0,top:0}}),Object(l.d)("label",{htmlFor:"GDPRDropdown",css:J.textWrapper},"yes"===r?Object(l.d)(h.b,{message:H()("Great! You’re signed up. You can manage your communication preferences in your {link}. Thanks for your interest in Coursera, and good luck with your courses."),link:Object(l.d)("a",{href:"/account-settings"},H()("Account Settings"))}):a),"yes"!==r&&Object(l.d)("div",{css:J.selectWrapper},Object(l.d)("select",{css:J.selectComponent,id:"GDPRdropdown",onChange:this.selectOnChange,required:!0},Object(l.d)("option",{css:J.disabledOption,key:"GDPRdropdown~placeholder",value:"",disabled:!0,hidden:!0,selected:!0},H()("Select...")),Object(l.d)("option",{key:"GDPRdropdown~yes",value:"yes"},H()("Yes")),Object(l.d)("option",{key:"GDPRdropdown~no",value:"no"},H()("Not now")))))},GDPRBanner}(u.Component);q.contextTypes={_eventData:m.a.object};var GDPRBanner_gdprCheck=function(){return Boolean(O.a.get("enableGDPR")&&k.a.isAuthenticatedUser()&&!v.a.get(T))},z=Object(g.b)(y.b.createContainer((function(){return{notificationPreferences:GDPRBanner_gdprCheck()?S.get(k.a.get().id,{}):void 0}})),Object(g.m)((function(e){var n=e.notificationPreferences,t=e.programs,r=e.isEnterpriseAdmin,a=r||!!(t||[]).length,i=function(e){var n,t,r,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!!e&&"UNSUBSCRIBED"===(null===(n=e.volunteer)||void 0===n?void 0:n.email)&&"UNSUBSCRIBED"===(null===(t=e.promotions)||void 0===t?void 0:t.email)&&"UNSUBSCRIBED"===(null===(r=e.recommendations)||void 0===r?void 0:r.email),s=!!e&&L()(e.enterpriseMarketing)||!!e&&!!e.enterpriseMarketing&&"UNSUBSCRIBED"===e.enterpriseMarketing.email;return o&&a?s:!o&&!a&&i}(n,a,r);return o()(o()({},e),{},{isEnterprise:a,isAdmin:r,shouldRender:i})})))(q);e.default=Object(b.a)((function(e){var n=Object(C.b)(k.a.get().id,!GDPRBanner_gdprCheck()),t=n.isEnterpriseAdmin;return n.loading?null:Object(l.d)(z,r()({},e,{isEnterpriseAdmin:t}))}))}}]);
//# sourceMappingURL=79.33ed478ba76cb3e65f26.js.map